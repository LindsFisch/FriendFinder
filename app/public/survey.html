<!DOCTYPE html>
<html>

<head>
  <title>Friend-Finder</title>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css"
    media="screen,projection" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
  <header>
    <nav>
      <div class="nav-wrapper teal lighten-3">
        <a href="/home" class="brand-logo">Friend-Finder</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a href="/home">Home</a></li>
        </ul>
      </div>
    </nav>
  </header>
  <main>
    <div class="container">
      <div class="col s12">
        <h1 class="center-align">Questionnare</h1>
      </div>
      <div class="divider"></div>
      <div class="row">
        <div class="col s12">
          <h4 class="center-align">About you</h4>
        </div>
      </div>

      <form class="col s12 container">
        <div class="row">
          <div class="input-field col s12">
            <input id="your_name" type="text" class="validate">
            <label for="your_name">Your Name</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <input id="photo_url" type="text" class="validate">
            <label for="photo_url">Provide a Photo URL</label>
          </div>
        </div>
      </form>
    </div>
    <div class="divider"></div>
    <div class="container">
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I like to solve complex problems.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group1" value="1" type="radio" id="q1a1" />
              <label for="q1a1">1</label>


              <input name="group1" value="2" type="radio" id="q1a2" />
              <label for="q1a2">2</label>


              <input name="group1" value="3" type="radio" id="q1a3" />
              <label for="q1a3">3</label>


              <input name="group1" value="4" type="radio" id="q1a4" />
              <label for="q1a4">4</label>

              <input name="group1" value="5" type="radio" id="q1a5" />
              <label for="q1a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I love large parties.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group2" value="1" type="radio" id="q2a1" />
              <label for="q2a1">1</label>


              <input name="group2" value="2" type="radio" id="q2a2" />
              <label for="q2a2">2</label>


              <input name="group2" value="3" type="radio" id="q2a3" />
              <label for="q2a3">3</label>


              <input name="group2" value="4" type="radio" id="q2a4" />
              <label for="q2a4">4</label>

              <input name="group2" value="5" type="radio" id="q2a5" />
              <label for="q2a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I sympathize with the homeless.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group3" value="1" type="radio" id="q3a1" />
              <label for="q3a1">1</label>


              <input name="group3" value="2" type="radio" id="q3a2" />
              <label for="q3a2">2</label>


              <input name="group3" value="3" type="radio" id="q3a3" />
              <label for="q3a3">3</label>


              <input name="group3" value="4" type="radio" id="q3a4" />
              <label for="q3a4">4</label>

              <input name="group3" value="5" type="radio" id="q3a5" />
              <label for="q3a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I become overwhelmed by events.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group4" value="1" type="radio" id="q4a1" />
              <label for="q4a1">1</label>


              <input name="group4" value="2" type="radio" id="q4a2" />
              <label for="q4a2">2</label>


              <input name="group4" value="3" type="radio" id="q4a3" />
              <label for="q4a3">3</label>


              <input name="group4" value="4" type="radio" id="q4a4" />
              <label for="q4a4">4</label>

              <input name="group4" value="5" type="radio" id="q4a5" />
              <label for="q4a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I feel comfortable around people.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group5" value="1" type="radio" id="q5a1" />
              <label for="q5a1">1</label>


              <input name="group5" value="2" type="radio" id="q5a2" />
              <label for="q5a2">2</label>


              <input name="group5" value="3" type="radio" id="q5a3" />
              <label for="q5a3">3</label>


              <input name="group5" value="4" type="radio" id="q5a4" />
              <label for="q5a4">4</label>

              <input name="group5" value="5" type="radio" id="q5a5" />
              <label for="q5a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I express childlike joy.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group6" value="1" type="radio" id="q6a1" />
              <label for="q6a1">1</label>


              <input name="group6" value="2" type="radio" id="q6a2" />
              <label for="q6a2">2</label>


              <input name="group6" value="3" type="radio" id="q6a3" />
              <label for="q6a3">3</label>


              <input name="group6" value="4" type="radio" id="q6a4" />
              <label for="q6a4">4</label>

              <input name="group6" value="5" type="radio" id="q6a5" />
              <label for="q6a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I believe that criminals should receive help rather than punishment.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group7" value="1" type="radio" id="q7a1" />
              <label for="q7a1">1</label>


              <input name="group7" value="2" type="radio" id="q7a2" />
              <label for="q7a2">2</label>


              <input name="group7" value="3" type="radio" id="q7a3" />
              <label for="q7a3">3</label>


              <input name="group7" value="4" type="radio" id="q7a4" />
              <label for="q7a4">4</label>

              <input name="group7" value="5" type="radio" id="q7a5" />
              <label for="q7a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I use flattery to get ahead.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group8" value="1" type="radio" id="q8a1" />
              <label for="q8a1">1</label>


              <input name="group8" value="2" type="radio" id="q8a2" />
              <label for="q8a2">2</label>


              <input name="group8" value="3" type="radio" id="q8a3" />
              <label for="q8a3">3</label>


              <input name="group8" value="4" type="radio" id="q8a4" />
              <label for="q8a4">4</label>

              <input name="group8" value="5" type="radio" id="q8a5" />
              <label for="q8a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I value cooperation over competition.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group9" value="1" type="radio" id="q9a1" />
              <label for="q9a1">1</label>


              <input name="group9" value="2" type="radio" id="q9a2" />
              <label for="q9a2">2</label>


              <input name="group9" value="3" type="radio" id="q9a3" />
              <label for="q9a3">3</label>


              <input name="group9" value="4" type="radio" id="q9a4" />
              <label for="q9a4">4</label>

              <input name="group9" value="5" type="radio" id="q9a5" />
              <label for="q9a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
      <div class="row">
        <div class="col s12">
          <p class="center-align quest">I want everything to be "just right."</p>
        </div>
      </div>
      <div class="row">
        <div class="col s2"></div>
        <div class="col s2">
          <p class="strongly">Strongly Disagree</p>
        </div>
        <div class="col s4">
          <p>
            <form action="#" class="center-align isChosen">

              <input name="group10" value="1" type="radio" id="q10a1" />
              <label for="q10a1">1</label>


              <input name="group10" value="2" type="radio" id="q10a2" />
              <label for="q10a2">2</label>


              <input name="group10" value="3" type="radio" id="q10a3" />
              <label for="q10a3">3</label>


              <input name="group10" value="4" type="radio" id="q10a4" />
              <label for="q10a4">4</label>

              <input name="group10" value="5" type="radio" id="q10a5" />
              <label for="q10a5">5</label>

            </form>
          </p>
        </div>
        <div class="col s2">
          <p class="strongly">Strongly Agree</p>
        </div>
        <div class="col s2"></div>
      </div>
    </div>

    <div class="container center-align">
      <div class="divider"></div>
      <button class="btn waves-effect waves-light" type="submit" name="action" id="submit">Submit<i class="material-icons right">send</i></button>
    </div>

    </div>

  </main>
  <footer class="footer">
    <div class="container">
      <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/LindsFisch/FriendFinder">GitHub Repo</a></p>
    </div>
  </footer>

  <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Your Match!</h4>
      <h5 id="bff">Your Match!</h5>
      <img id="bffImg" src="https://placekitten.com/200/300">
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
  </div>
  <script type="text/javascript">
    $("#submit").on("click", function () {

      function validateform() {
        var valid = true;
        // $(".validate").each(function () {
        //   if ($(this).val() == "") 
        //     console.log($(this).val());
        //     valid = false;

        // })
        if (($("#your_name").val().trim()) === "") {
          valid = false;
        }
        if (($("#your_name").val().trim()) === "") {
          valid = false;
        }
        if (($('input[name="group1"]:checked').val()) === "") {
          valid = false;
        }
        if (($('input[name="group2"]:checked').val()) === "") {
          valid = false;
        }
        if (($('input[name="group3"]:checked').val()) === "") {
          valid = false;
        }
        if (($('input[name="group4"]:checked').val()) === "") {
          valid = false;
        }
        if (($('input[name="group5"]:checked').val()) === "") {
          valid = false;
        }
        if (($('input[name="group6"]:checked').val()) === "") {
          valid = false;
        }
        if (($('input[name="group7"]:checked').val()) === "") {
          valid = false;
        }
        if (($('input[name="group8"]:checked').val()) === "") {
          valid = false;
        }
        if (($('input[name="group9"]:checked').val()) === "") {
          valid = false;
        }
        if (($('input[name="group10"]:checked').val()) === "") {
          valid = false;
        }
        return valid;
      };

      validateform();
      if (validateform() === true) {
        var newFriend = {
          name: $("#your_name").val().trim(),
          photo: $("#photo_url").val().trim(),
          scores: [
            parseInt($('input[name="group1"]:checked').val()),
            parseInt($('input[name="group2"]:checked').val()),
            parseInt($('input[name="group3"]:checked').val()),
            parseInt($('input[name="group4"]:checked').val()),
            parseInt($('input[name="group5"]:checked').val()),
            parseInt($('input[name="group6"]:checked').val()),
            parseInt($('input[name="group7"]:checked').val()),
            parseInt($('input[name="group8"]:checked').val()),
            parseInt($('input[name="group9"]:checked').val()),
            parseInt($('input[name="group10"]:checked').val())
          ],
        };

        var currentURL = window.location.origin;

        $.post(currentURL + "/api/friends", newFriend, function (data) {
          //populate the modal with the results
          $("#bff").text(data.name);
          $("#bffImg").attr("src", data.photo);
          $('#modal1').modal('open');
        });
        //clear the radio buttons after submit
        $("input[type=radio]").each(function () {
          $(this).prop('checked', false);
        });
        //clear about you section
        $("#your_name").val("");
        $("#photo_url").val("");


      } else {
        alert("Please fill out all fields before submitting!");
      }

    });
  </script>

</body>

</html>